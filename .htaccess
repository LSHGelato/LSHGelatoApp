
# BEGIN cPanel-generated php ini directives, do not edit
# Manual editing of this file may result in unexpected behavior.
# To make changes to this file, use the cPanel MultiPHP INI Editor (Home >> Software >> MultiPHP INI Editor)
# For more information, read our documentation (https://go.cpanel.net/EA4ModifyINI)
<IfModule php8_module>
   php_flag display_errors Off
   php_flag log_errors On
   php_value error_log "/home/raneywor/logs/gelato_php_errors.log"
   php_value session.cookie_httponly "1"
   php_value session.cookie_secure "1"
   php_flag session.use_strict_mode On
</IfModule>
# END cPanel-generated php ini directives, do not edit

\
# Optional: enable pretty URLs if PRETTY_URLS=1
Options -MultiViews
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]

# Disable directory listing
Options -Indexes

# Block dotfiles and sensitive files
<FilesMatch "^\.(env|htaccess|git|svn)">
  Require all denied
</FilesMatch>

# Deny direct access to application internals
RedirectMatch 404 ^/(app|migrations|logs)(/|$)

SetEnv SESSION_SAVE_PATH /home1/raneywor/sessions
SetEnv COOKIE_DOMAIN gelato.raneyworld.com

# Block .git and dotfiles
RedirectMatch 404 /(\.git|\.env|\.github)(/|$)
<FilesMatch "^\.(.*)$">
  Require all denied
</FilesMatch>

# Never serve these
<FilesMatch "(^|/)(env\.local\.php|phpunit\.xml|composer\.(json|lock))$">
  Require all denied
</FilesMatch>

# Project-specific: block internal tools if they must stay present
<FilesMatch "^(peek-log\.php|enrichment_selftest\.php|admin_wac_repair\.php)$">
  Require all denied
</FilesMatch>

# Block whole directories that are app-internal
RedirectMatch 404 ^/var(/|$)
RedirectMatch 404 ^/migrations(/|$)
